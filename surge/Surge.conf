[General]
internet-test-url = http://wifi.vivo.com.cn/generate_204
proxy-test-url = http://cp.cloudflare.com/generate_204
test-timeout = 5
geoip-maxmind-url = https://raw.githubusercontent.com/Loyalsoldier/geoip/release/Country.mmdb
skip-proxy = 192.168.0.0/24, 10.0.0.0/8, 172.16.0.0/12, 127.0.0.1, localhost, *.local
exclude-simple-hostnames = true
loglevel = notify
show-error-page-for-reject = true
always-real-ip = *.msftconnecttest.com, *.msftncsi.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, *.logon.battlenet.com.cn, *.logon.battle.net, stun.l.google.com
dns-server = 223.5.5.5, 114.114.114.114, system

[SSID Setting]
TYPE:CELLULAR tfo-behaviour=force-disabled

[Proxy]
Warp+GSC = wireguard, section-name=WGgoGetSomeCats, test-url=http://cp.cloudflare.com/generate_204
WARP+GSCats = wireguard, section-name=GetSomeCats, test-url=http://cp.cloudflare.com/generate_204

[Proxy Group]
Proxy
Netflix
Final

[Rule]
PROCESS-NAME,v2ray,DIRECT
PROCESS-NAME,xray,DIRECT
PROCESS-NAME,clash,DIRECT
PROCESS-NAME,naive,DIRECT
PROCESS-NAME,trojan,DIRECT
PROCESS-NAME,trojan-go,DIRECT
PROCESS-NAME,ss-local,DIRECT
PROCESS-NAME,privoxy,DIRECT
PROCESS-NAME,leaf,DIRECT
PROCESS-NAME,Thunder,DIRECT
PROCESS-NAME,DownloadService,DIRECT
PROCESS-NAME,qBittorrent,DIRECT
PROCESS-NAME,Transmission,DIRECT
PROCESS-NAME,fdm,DIRECT
PROCESS-NAME,aria2c,DIRECT
PROCESS-NAME,Folx,DIRECT
PROCESS-NAME,NetTransport,DIRECT
PROCESS-NAME,uTorrent,DIRECT
PROCESS-NAME,WebTorrent,DIRECT
DOMAIN-SET,https://cdn.jsdelivr.net/gh/Loyalsoldier/surge-rules@release/private.txt,DIRECT
DOMAIN-SET,https://cdn.jsdelivr.net/gh/Loyalsoldier/surge-rules@release/reject.txt,REJECT
RULE-SET,SYSTEM,DIRECT
DOMAIN-SET,https://cdn.jsdelivr.net/gh/Loyalsoldier/surge-rules@release/icloud.txt,DIRECT
DOMAIN-SET,https://cdn.jsdelivr.net/gh/Loyalsoldier/surge-rules@release/apple.txt,DIRECT
DOMAIN-SET,https://cdn.jsdelivr.net/gh/Loyalsoldier/surge-rules@release/google.txt,DIRECT
DOMAIN-SET,https://cdn.jsdelivr.net/gh/Loyalsoldier/surge-rules@release/proxy.txt,PROXY,force-remote-dns
DOMAIN-SET,https://cdn.jsdelivr.net/gh/Loyalsoldier/surge-rules@release/direct.txt,DIRECT
RULE-SET,https://cdn.jsdelivr.net/gh/Loyalsoldier/surge-rules@release/telegramcidr.txt,PROXY
RULE-SET,https://cdn.jsdelivr.net/gh/Loyalsoldier/surge-rules@release/cncidr.txt,DIRECT
IP-CIDR,0.0.0.0/32,REJECT,no-resolve
RULE-SET,LAN,DIRECT
GEOIP,CN,DIRECT
FINAL,Proxy,dns-failed

[Host]

[MITM]
skip-server-cert-verify = true
h2 = true
tcp-connection = false

[URL Rewrite]
^(http|https):\/\/(www.)?(g|google)\.cn https://www.google.com 302
^https?://(.*?[.])?(?:g|google).cn https://$1google.com 302
^(http|https):\/\/(ditu|maps).google\.cn https://maps.google.com 302
^http:\/\/t\.cn http://sinaurl.cn 302

[Script]

# 脚本
# 使用 JavaScript 扩展 Surge 的各项功能
# 以下连个脚本请搭配模块部分的获取cookie使用
# B站签到脚本，使用方法见脚本说明
# https://raw.githubusercontent.com/ClydeTime/Surge/main/Script/Task/BiliBili.js

# 喜马拉雅签到脚本
# https://raw.githubusercontent.com/ClydeTime/Quantumult/main/Script/Task/xmlySign.js

# 模块

# 模块是对配置文件的补丁，每个模块文件用于对配置文件的各个部分进行微调，可用于覆盖当前配置的部分设定，模块可以：

# 灵活的开启与关闭。
# 在同一个文件内对多个段进行调整。
# 可通过 URL 进行安装并保持更新。
# 但是：

# 模块不可以调整 [Proxy]、[Proxy Group]、[Rule] 段内容。
# 模块不可以调整 MITM 的 CA 证书。
# 模块的设置覆盖于主配置之上，因此不可以通过 UI 进行调整。
# 模块有非常多的使用场景以实现某个特定的任务：

# 调整不可编辑的配置文件中的设置，如托管配置和企业配置；
# 快捷的在不同工作环境中切换。例如临时开启对所有域名的 MitM 并调整过滤器；
# 使用他人编写的模块以完成某些特定的任务。例如，您的同事可以编写一个模块将应用的 API 请求重定向至测试服务器；
# 在多个设备之间共同使用一个配置文件时，可能需要针对不同场景修改某些设置。模块的开启状态是保存于当前设备的，可以用在不同设备间的差异性修改；
# 基本概念
# 模块类似于当前配置文件的补丁。模块的设置优先级高于配置文件的设置。

# 有三种类型的模块：

# 内部模块：由 Surge 本身提供；
# 本地模块：配置文件目录中的 .sgmodule 文件；
# 已安装模块：使用 URL 安装的模块，一般是以 .sgmodule 结尾的一个链接
# 编写模块
# 模块的语法与配置文件相同。您可以覆盖以下部分：

# General、Replica、MITM

# 覆盖原始值：key = value
# 追加在原始值的后面：key = %APPEND% value
# 插入在原始值的前面：key = %INSERT% value
# Rule、Script、URL Rewrite、Header Rewrite、Host
# 新行将插入到原始内容的顶部。
# 模块中的规则只能使用内部策略：DIRECT、REJECT 和 REJECT-TINYGIF。
# 您可以在模块文件中添加 Metadata：

# #!name=模块名称
# #!desc=模块描述
# 您可以将模块限制为指定的平台：（可选）

# #!system=mac
# 可选 mac 和 ios，如果你并不想限制在某一个平台可省略该行字段

# 以下是所附上的一些经常能够用到的模块。
# 版权属于模块的作者，我这里仅仅只是收集整理，不对使用方法做任何解答！
# 不对使用方法做任何解答！不对使用方法做任何解答！

# 远程模块安装方式：打开 Surge -> 模块 -> 安装新模块... -> 复制粘贴上方的安装链接 -> 完成!；

# Boxjs模块
# 使用教程：https://github.com/chavyleung/scripts#%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%8F
# https://raw.githubusercontent.com/chavyleung/scripts/master/box/rewrite/boxjs.rewrite.surge.sgmodule

# Sub-Store
# 高级订阅管理工具 @Peng-YM
# 使用教程：https://www.notion.so/Sub-Store-6259586994d34c11a4ced5c406264b46
# https://raw.githubusercontent.com/sub-store-org/Sub-Store/master/config/Surge.sgmodule

# 该模块适用于定时签到脚本的Cookie获取. 集成: BiliBili, 喜马拉雅; 您可以在使用后手动将其禁用，以免产生不必要的MITM.
# 本模块配合脚本部分的签到脚本使用
# https://raw.githubusercontent.com/ClydeTime/Quantumult/main/Task/GetCookie.sgmodule

# bilibili去广告(>=iOS15)
# https://raw.githubusercontent.com/app2smile/rules/master/module/bilibili.sgmodule

# 部分解锁spotify premium,建议重新登录,音质不能设置为超高
# https://raw.githubusercontent.com/app2smile/rules/master/module/spotify.module

# 广告联盟去广告 （快手联盟,优量汇,穿山甲）
# https://raw.githubusercontent.com/app2smile/rules/master/module/adsense.sgmodule

# 起点App去广告
# https://raw.githubusercontent.com/app2smile/rules/master/module/qidian.sgmodule

# 腾讯新闻App去广告 开屏页广告有缓存,需要全新应用
# https://raw.githubusercontent.com/app2smile/rules/master/module/qqnews.sgmodule

# 贴吧部分去广告
# 1.开屏页广告 2.帖子看图模式广告去除 3.首页/帖子详情页右下角悬浮广告去除
# https://raw.githubusercontent.com/app2smile/rules/master/module/tieba-mini.sgmodule

# 知乎App去广告
# https://raw.githubusercontent.com/app2smile/rules/master/module/zhihu.sgmodule

# 屏蔽iOS系统更新
# https://raw.githubusercontent.com/xOS/Config/Her/Module/General/BlockUpdate.sgmodule

# 微博官方APP净化
# https://raw.githubusercontent.com/xOS/Config/Her/Module/General/Weibo.sgmodule

# 快速检测节点有没有解锁流媒体
# https://raw.githubusercontent.com/Rabbit-Spec/Surge/Master/Module/Panel/Stream-All/Moore/Stream-All.sgmodule

# 显示还需要摸鱼多少天就可以解放
# 安装方式
# 打开 Surge -> 模块 -> 新建本地模块 -> 复制粘贴上方的安装链接里的模块内容到本地（不是复制链接！） -> 在Script中必须修改的参数：group：你策略组的名称 -> 完成!
# https://raw.githubusercontent.com/Rabbit-Spec/Surge/Master/Module/Panel/Timecard/Moore/Timecard.sgmodule

# 机场流量信息
# 查看你机场当前剩余的流量
# 查看你机场购买套餐的流量
# 查看你机场重置流量的日期
# 查看你机场套餐到期的日期
# 安装方式
# 打开 Surge -> 模块 -> 新建本地模块 -> 复制粘贴上方的安装链接里的模块内容到本地（不是复制链接！）-> 先将带有流量信息的节点订阅链接encode，用encode后的链接替换"url="后面的[机场节点链接] -> 完成!
# encode链接： https://www.urlencoder.org
# https://raw.githubusercontent.com/Rabbit-Spec/Surge/Master/Module/Panel/Sub-info/Moore/Sub-info.sgmodule

# Network-Info (网络信息)
# https://raw.githubusercontent.com/Rabbit-Spec/Surge/Master/Module/Panel/Network-Info/Moore/Network-Info.sgmodule

# 一个可以显示Surge启动时长的面板
# https://raw.githubusercontent.com/Rabbit-Spec/Surge/Master/Module/Panel/Surge-Pro/Moore/SurgePro.sgmodule

# 1.1.1.1 by Cloudflare with WARP
# 配置教程：https://www.craft.do/s/avqa8GJuLbLsFv
# https://raw.githubusercontent.com/I-am-R-E/Functional-Store-Hub/Master/WarpPanel/WarpPanel%2B.sgmodule

# 一个可以显示你当前节点信息的面板
# https://raw.githubusercontent.com/Rabbit-Spec/Surge/Master/Module/Panel/IP-Check/Moore/IP-Check.sgmodule

# 酷我解锁
# https://raw.githubusercontent.com/I-am-R-E/Functional-Store-Hub/Master/KuWoMusic/KuWoMusic.Surge.sgmodule

[WireGuard WGgoGetSomeCats]
private-key = oFl4IF42oioy2rU9Dc2af5vi6X6+zbFDnY/CUckU23g=
self-ip = 172.16.0.2
self-ip-v6 = 2606:4700:110:8f71:49f:13f4:55d6:a577
prefer-ipv6 = true
dns-server = 162.159.36.1, 2606:4700:4700::1111
mtu = 1400
peer = (public-key = bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=, allowed-ips = "0.0.0.0/0, ::0/0", endpoint = 162.159.195.8:2408, keepalive = 45)

[WireGuard GetSomeCats]
private-key = eKycj9KyGKX4Gyj9ntOXIwc3stSSN8LmQ8U7Tvq7sW8=
self-ip = 172.16.0.2
self-ip-v6 = 2606:4700:110:81bc:1fc5:5bf3:78d:754f
prefer-ipv6 = true
dns-server = 162.159.36.1, 2606:4700:4700::1111
mtu = 1400
peer = (public-key = bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=, allowed-ips = "0.0.0.0/0, ::0/0", endpoint = 162.159.193.6:2408, keepalive = 45)
