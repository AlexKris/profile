[General]
# --- é€šç”¨ ---
# > å¢žå¼ºç‰ˆ Wi-Fi åŠ©ç†
wifi-assist = false
# > æ··åˆç½‘ç»œ
all-hybrid = false
# > æ¸¸æˆä¼˜åŒ–
udp-priority = true
# > INTERNET æµ‹è¯• URL
internet-test-url = http://wifi.vivo.com.cn/generate_204
# > ä»£ç†æµ‹é€Ÿ URL
proxy-test-url = http://1.1.1.1/generate_204
# > æµ‹è¯•è¶…æ—¶ï¼ˆç§’ï¼‰
test-timeout = 5
# > è‡ªå®šä¹‰ GeoIP æ•°æ®åº“
# geoip-maxmind-url = https://raw.githubusercontent.com/Loyalsoldier/geoip/release/Country.mmdb
geoip-maxmind-url = https://github.com/Hackl0us/GeoIP2-CN/raw/release/Country.mmdb
# > IPv6
ipv6 = true
# > è·³è¿‡ä»£ç†
skip-proxy = 127.0.0.1, 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, 100.64.0.0/10, localhost, *.local, seed-sequoia.siri.apple.com, sequoia.apple.com, passenger.t3go.cn, www.baidu.com, yunbusiness.ccb.com, wxh.wo.cn, gate.lagou.com, www.abchina.com.cn, mbank.psbc.com, www.10010.com
# > æŽ’é™¤ç®€å•ä¸»æœºå
exclude-simple-hostnames = true
# > UDP IP é˜²æ³„æ¼
# å¦‚æžœæ²¡æœ‰ä»£ç†æœåŠ¡å™¨æ”¯æŒ UDP è½¬å‘ï¼Œå¯ä¿®æ”¹ä¸ºã€Œ direct ã€æˆ–æ³¨é‡Šä¸‹æ¡ï¼Œä½†éœ€æ³¨æ„åŒä¸€ç›®æ ‡ä¸»æœºå TCP è¯·æ±‚ä¸Ž UDP è¯·æ±‚çš„æºåœ°å€ä¸åŒæ‰€é€ æˆçš„éšç§åŠå®‰å…¨é£Žé™©ã€‚
udp-policy-not-supported-behaviour = reject
# > æ—¥å¿—çº§åˆ«
loglevel = notify
# > å½“é‡åˆ° REJECT ç­–ç•¥æ—¶è¿”å›žé”™è¯¯é¡µ
show-error-page-for-reject = true
# > Always Real IP Hosts
always-real-ip = *.msftconnecttest.com, *.msftncsi.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, *.logon.battlenet.com.cn, *.logon.battle.net, stun.l.google.com
# > Hijack DNS
hijack-dns = *:53
# > DNS æœåŠ¡å™¨
dns-server = 223.5.5.5, 119.29.29.29
# > åŠ å¯†çš„DNSæœåŠ¡å™¨ (å¦‚æ— å¿…è¦ä¸å»ºè®®ä½¿ç”¨)
encrypted-dns-server = https://dns.alidns.com/dns-query, https://doh.pub/dns-query
# > ä»Ž /etc/hosts ä¸­è¯»å– DNS è®°å½•
read-etc-hosts = true

[Proxy]

[Proxy Group]
Proxy = select, DIRECT, Sub1, Sub2
GlobalMedia = select, Proxy, HK
ChinaMedia = select, DIRECT, HK, TW
Apple = select, DIRECT, Proxy, hidden=1
Google = select, US, Proxy, hidden=1
AdBlock = select, REJECT, DIRECT, hidden=1
Final = select, Proxy, DIRECT
HK = select, policy-regex-filter=(ðŸ‡­ðŸ‡°)|(æ¸¯)|(Hong)|(HK), include-other-group="Sub1, Sub2"
US = select, policy-regex-filter=(ðŸ‡ºðŸ‡¸)|(ç¾Ž)|(States)|(US), include-other-group="Sub1, Sub2"
JP = select, policy-regex-filter=(ðŸ‡¯ðŸ‡µ)|(æ—¥)|(Japan)|(JP), include-other-group="Sub1, Sub2", hidden=1
KR = select, policy-regex-filter=(ðŸ‡°ðŸ‡·)|(éŸ©)|(Korea)|(KR), include-other-group="Sub1, Sub2", hidden=1
TW = select, policy-regex-filter=(ðŸ‡¨ðŸ‡³)|(å°)|(Tai)|(TW), include-other-group="Sub1, Sub2"
DE = select, policy-regex-filter=(ðŸ‡©ðŸ‡ª)|(å¾·)|(Germany)|(DE), include-other-group="Sub1, Sub2", hidden=1
SG = select, policy-regex-filter=(ðŸ‡¸ðŸ‡¬)|(æ–°)|(Singapore)|(SG), include-other-group="Sub1, Sub2", hidden=1
# Sub
Sub1 = select, policy-path=http://sub1.info, update-interval=0, interval=600, timeout=3, policy-regex-filter=^(?!.*Premium)
Sub2 = select, policy-path=http://sub2.info, update-interval=0, interval=600, timeout=3, policy-regex-filter=^(?!.*Premium)

[Rule]
# > MT5
DOMAIN-SUFFIX,mql5.com,DIRECT
# > Sub-Store
DOMAIN-SUFFIX,vercel.app,Proxy
# HTTP3/QUIC åè®®åŸºäºŽ UDPï¼Œéƒ¨åˆ†åœ°åŒº ISP æˆ–çº¿è·¯ UDP å®¹æ˜“å—åˆ°å¹²æ‰°æˆ–é™é€Ÿï¼Œå±è”½æŽ‰ä»¥é˜»æ­¢ HTTP 3 æµé‡çš„ UDP æµé‡ï¼Œå¼ºåˆ¶å›žé€€åˆ° TCPã€‚
# REJECT-NO-DROP è¡¨ç¤ºä¸ä½¿ç”¨é»˜è®¤çš„è‡ªåŠ¨ä¸¢åŒ…é€»è¾‘ï¼Œè¿™æ · Surge æ¯æ¬¡éƒ½ä¼šè¿”å›ž ICMP Port Unreachableï¼Œåº”ç”¨ä¼šç«‹åˆ»å›žé€€è€Œä¸æ˜¯ç­‰è¶…æ—¶ã€‚
AND,((PROTOCOL,UDP), (DEST-PORT,443)),REJECT-NO-DROP
# Blocking UDP Packets by Youtube and ins
AND,((DOMAIN-SUFFIX,googlevideo.com), (DOMAIN-SUFFIX,gvt1.com), (DOMAIN-SUFFIX,cdninstagram.com), (PROTOCOL,UDP)),REJECT
# > Proxy
PROCESS-NAME,v2ray,DIRECT
PROCESS-NAME,ss-local,DIRECT
# > Client
PROCESS-NAME,UUBooster,DIRECT
# > Download
PROCESS-NAME,aria2c,DIRECT
PROCESS-NAME,fdm,DIRECT
PROCESS-NAME,Folx,DIRECT
PROCESS-NAME,NetTransport,DIRECT
PROCESS-NAME,Thunder,DIRECT
PROCESS-NAME,Transmission,DIRECT
PROCESS-NAME,uTorrent,DIRECT
PROCESS-NAME,WebTorrent,DIRECT
PROCESS-NAME,WebTorrent Helper,DIRECT
# > ç§æœ‰ç½‘ç»œä¸“ç”¨åŸŸååˆ—è¡¨
DOMAIN-SET,https://raw.githubusercontent.com/Loyalsoldier/surge-rules/release/private.txt,DIRECT
# > å¹¿å‘ŠåŸŸååˆ—è¡¨
DOMAIN-SET,https://raw.githubusercontent.com/Loyalsoldier/surge-rules/release/reject.txt,AdBlock
# > System
RULE-SET,SYSTEM,DIRECT
# > Wechat
RULE-SET,https://raw.githubusercontent.com/NobyDa/Script/master/Surge/WeChat.list,DIRECT
# > Apple æœåŠ¡
DOMAIN-SET,https://raw.githubusercontent.com/Loyalsoldier/surge-rules/release/icloud.txt,DIRECT
DOMAIN-SET,https://raw.githubusercontent.com/Loyalsoldier/surge-rules/release/apple.txt,DIRECT
# > OneDrive
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/OneDrive/OneDrive.list,Proxy
# > Bahamut
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Bahamut/Bahamut.list,TW
# > Streaming å›½é™…æµåª’ä½“æœåŠ¡
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Streaming.list,GlobalMedia
# > StreamingSE ä¸­å›½æµåª’ä½“æœåŠ¡ï¼ˆé¢å‘æµ·å¤–ç‰ˆæœ¬ï¼‰
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/StreamingSE.list,ChinaMedia
# Telegram æœåŠ¡
RULE-SET,https://raw.githubusercontent.com/VirgilClyne/GetSomeFries/main/ruleset/ASN.Telegram.list,Proxy
# > OpenAI
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/OpenAI/OpenAI.list,US
# > Google
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Google/Google.list,Google
# > Global å…¨çƒåŠ é€Ÿ
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Global.list,Proxy
DOMAIN-SET,https://raw.githubusercontent.com/Loyalsoldier/surge-rules/release/ruleset/gfw.txt,Proxy
# > China ä¸­å›½ç›´è¿ž
RULE-SET,https://github.com/Blankwonder/surge-list/raw/master/cn.list,DIRECT
RULE-SET,https://raw.githubusercontent.com/VirgilClyne/GetSomeFries/auto-update/ruleset/ASN.China.list,DIRECT
# > Surge çš„è‡ªåŠ¨ REJECT ä¿æŠ¤ä¸¢åŒ… é˜²æ­¢åº”ç”¨å¾ªçŽ¯è¯·æ±‚
IP-CIDR,0.0.0.0/32,REJECT,no-resolve
# > Lan
RULE-SET,LAN,DIRECT
# > GeoIP China
GEOIP,CN,DIRECT
# > Final
FINAL,Final,dns-failed

[Host]
# > Firebase Cloud Messaging
mtalk.google.com = 108.177.125.188
# > Google Dl
dl.google.com = server:119.29.29.29
dl.l.google.com = server:119.29.29.29
update.googleapis.com = server:119.29.29.29
# > PlayStation
*.dl.playstation.net = server:119.29.29.29
# > Router Admin Panel
# - Ubiquiti Amplifi Router
amplifi.lan = server:syslib
# - Synology Router
router.synology.com = server:syslib
# - Razer Sila Router
sila.razer.com = server:syslib
# - Asus Router
router.asus.com = server:syslib
# - Netgear Router
routerlogin.net = server:syslib
# - Netgear Obri Router
orbilogin.com = server:syslib
# - Linksys Router
www.LinksysSmartWiFi.com = server:syslib
# - Linksys Router
LinksysSmartWiFi.com = server:syslib
# - Linksys Router
myrouter.local = server:syslib
# - Xiaomi Mi WiFi Router
www.miwifi.com = server:syslib
# - Xiaomi Mi WiFi Router
miwifi.com = server:syslib
# - Huawei Router
mediarouter.home = server:syslib
# - TP-Link Router
tplogin.cn = server:syslib
# - TP-Link Router
tplinklogin.net = server:syslib
# - MERCURY Router
melogin.cn = server:syslib
# - FAST Router
falogin.cn = server:syslib

[SSID Setting]
TYPE:CELLULAR tfo-behaviour=force-disabled

[MITM]
skip-server-cert-verify = true
tcp-connection = true
h2 = true
hostname = 
ca-passphrase = 
ca-p12 = 

[Script]
# > Flush DNS, show the DNS delay and server.
flushDNS = type=generic,timeout=10,script-path=https://raw.githubusercontent.com/zZPiglet/Task/master/asset/flushDNS.js,argument=icon=wand.and.stars.inverse&color=#3d3d5b

[Panel]
flushDNS = script-name=flushDNS,update-interval=-1
